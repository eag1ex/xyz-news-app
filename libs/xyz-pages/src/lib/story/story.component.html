<section>
    <div class="row">
        <div class="col">
            <mat-selection-list #current (selectionChange)="storySelected(current.selectedOptions.selected[0]?.value)" class="story-list" *ngIf="storyData" [multiple]="false">
                <mat-list-option *ngFor="let story of storyData.response; let inx = index" [value]="story">
                    <div class="d-flex flex-row mb-3">
                        <div class="nr mr-2 d-flex flex-row">
                            <div class="story-index text-white p-1">
                                <span class="boxed pl-1 pr-2">{{ inx + 1 }}.</span>
                            </div>
                            <div class="show-detail" (click)="showDetail(story, inx)">
                                <mat-icon class="text-secondary-alpha" aria-hidden="false"> {{ story.showMore ? 'expand_more' : 'expand_less' }} </mat-icon>
                            </div>
                        </div>

                        <div class="story-detail ml-2">
                            <div class="d-flex flex-column">
                                <div class="title">
                                    <div class="d-flex d-row">
                                        <div [innerHTML]="story.title | trim"></div>
                                        <div class="story-url ml-2">
                                            <small *ngIf="story.url">
                                                <a class="text-muted" [href]="story.url" target="_blank">({{ story.url | hostName }})</a>
                                            </small>
                                        </div>
                                    </div>
                                </div>

                                <div class="text-muted small-detail">
                                    <small>score&nbsp;{{ story.score }}&nbsp;|&nbsp;by&nbsp;{{ story.by }}&nbsp;|&nbsp;created&nbsp;{{ story.time | myDate }}</small>
                                </div>
                                <div *ngIf="story.showMore" class="story-full-detail">
                                    <ul class="list-group">
                                        <li *ngIf="story.text" class="list-group-item disabled" aria-disabled="true">
                                            <div>
                                                <div class="text-muted py-1">Description:</div>
                                                <div [innerHTML]="story.text"></div>
                                            </div>
                                        </li>
                                        <!-- <li class="list-group-item">A second item</li>
                                        <li class="list-group-item">A third item</li>
                                        <li class="list-group-item">A fourth item</li>
                                        <li class="list-group-item">And a fifth one</li> -->
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </div>
                </mat-list-option>
            </mat-selection-list>

            <mat-spinner *ngIf="!storyData" diameter="60" class="m-auto" color="accent"></mat-spinner>
        </div>
    </div>
</section>
